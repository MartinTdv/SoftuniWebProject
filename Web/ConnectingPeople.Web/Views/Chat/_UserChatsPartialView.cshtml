@model ConnectingPeople.Web.ViewModels.Chat.UserSummaryChatViewModel
@{ 
    ViewData["LastMessageSender"] = Model.LastMessageSenderUsername == Model.ChatPartner ? Model.ChatPartner : "Вие";
}

<div class="row-cols">
    <div class="row-cols-2 float-left">
        <div class="row">
            <a class="col" asp-controller="Profile" asp-action="ByName" asp-route-username="@Model.ChatPartner">
                <img src="~/@(Model.ChatPartnerImageName).png" onerror="this.src = '/defaultUser.png'; this.error = null;" class="col rounded-circle bg-dark" />
            </a>
        </div>
        <div class="row font-weight-bold">
            <a class="col" asp-controller="Profile" asp-action="ByName" asp-route-username="@Model.ChatPartner">
                <p class="col">@Model.ChatPartner<p />
            </a>
        </div>
        <div class="row">
            <a class="col btn btn-primary" asp-controller="Chat" asp-action="ChatById" asp-route-id="@Model.Id">Виж чата</a>
        </div>
    </div>
    <div class="row-cols">
        <div class="row">
            <p class="col-2">Във връзка с:</p>
            <h6 class="col">@Model.About</h6>
        </div>
        <div class="row">
            <hr class="col float-right bg-transparent" />
        </div>
        <div class="row">
            <p class="col-2">@ViewData["LastMessageSender"]:</p>
            <p class="col">@Model.LastMessageText</p>
        </div>
        <div class="row">
            <p class="col text-right mr-3 font-weight-bold">Последно съобщение в: @Model.CreatedOn.ToString("HH:MM, dd/mm/yyyy")</p>
        </div>
    </div>
</div>


